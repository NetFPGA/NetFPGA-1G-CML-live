<html>
<head>
   <meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>
   Xilinx Driver emaclite v3_01_a: xemaclite.c File Reference
</title>
<link href="../../../../../../../doc/usenglish/css/driver_api_doxygen.css" rel="stylesheet" type="text/css">
</head>
<h3 class="PageHeader">Xilinx Processor IP Library</h3>
<hl>Software Drivers</hl>
<hr class="whs1">

<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>Globals</span></a></li>
  </ul></div>
<h1>xemaclite.c File Reference</h1><hr><a name="_details"></a><h2>Detailed Description</h2>
Functions in this file are the minimum required functions for the EmacLite driver. See <a class="el" href="xemaclite_8h.html">xemaclite.h</a> for a detailed description of the driver.<p>
<pre>
 MODIFICATION HISTORY:</pre><p>
<pre> Ver   Who  Date     Changes
 ----- ---- -------- --------------------------------------------------------
 1.01a ecm  01/31/04 First release
 1.11a mta  03/21/07 Updated to new coding style
 1.11a ecm  05/18/07 Updated the TxBufferAvailable routine to look at both
                     the active and busy bits
 1.13a sv   02/1/08  Updated the TxBufferAvailable routine to return
		      busy status properly
 2.00a ktn  02/16/09 Added support for MDIO
 2.01a ktn  07/20/09 Modified XEmacLite_Send function to use Ping buffers
                     Interrupt enable bit since this alone is used to enable
                     the interrupts for both Ping and Pong Buffers.
 3.00a ktn  10/22/09 Updated driver to use the HAL APIs/macros.
		      The macros have been renamed to remove _m from the name.
 3.01a ktn  07/08/10 The macro XEmacLite_GetReceiveDataLength is changed to
		      a static function.
		      Updated the XEmacLite_GetReceiveDataLength and
		      XEmacLite_Recv functions to support little endian
		      MicroBlaze.
 </pre> 
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xemaclite_8c.html#62d274a1ef1aecc98a8ce824cf630e6f">XEmacLite_CfgInitialize</a> (<a class="el" href="struct_x_emac_lite.html">XEmacLite</a> *InstancePtr, <a class="el" href="struct_x_emac_lite___config.html">XEmacLite_Config</a> *EmacLiteConfigPtr, u32 EffectiveAddr)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xemaclite_8c.html#a43b9a536b592bdd1426edcfa6c562c8">XEmacLite_Send</a> (<a class="el" href="struct_x_emac_lite.html">XEmacLite</a> *InstancePtr, u8 *FramePtr, unsigned ByteCount)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">u16&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xemaclite_8c.html#cd291d749aa67f609a4889fb15a541a2">XEmacLite_Recv</a> (<a class="el" href="struct_x_emac_lite.html">XEmacLite</a> *InstancePtr, u8 *FramePtr)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xemaclite_8c.html#b1146b18c05a3cfb34d3af24ac8ecb3c">XEmacLite_SetMacAddress</a> (<a class="el" href="struct_x_emac_lite.html">XEmacLite</a> *InstancePtr, u8 *AddressPtr)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xemaclite_8c.html#8cc2fe7b612b1105ffeb1be2a88abb6a">StubHandler</a> (void *CallBackRef)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xemaclite_8c.html#b78dc4ba436cf362b30d9ba881009063">XEmacLite_TxBufferAvailable</a> (<a class="el" href="struct_x_emac_lite.html">XEmacLite</a> *InstancePtr)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xemaclite_8c.html#afee8a352a0dffef7dd5abc36dbd234c">XEmacLite_FlushReceive</a> (<a class="el" href="struct_x_emac_lite.html">XEmacLite</a> *InstancePtr)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xemaclite_8c.html#0e9a87feda7f53bc7733aaacc8b24b71">XEmacLite_PhyRead</a> (<a class="el" href="struct_x_emac_lite.html">XEmacLite</a> *InstancePtr, u32 PhyAddress, u32 RegNum, u16 *PhyDataPtr)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xemaclite_8c.html#676bd42b183d7752c470883b5196b844">XEmacLite_PhyWrite</a> (<a class="el" href="struct_x_emac_lite.html">XEmacLite</a> *InstancePtr, u32 PhyAddress, u32 RegNum, u16 PhyData)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xemaclite_8c.html#bc61e14211f0b939d8386b05d6cbe88e">XEmacLite_EnableLoopBack</a> (<a class="el" href="struct_x_emac_lite.html">XEmacLite</a> *InstancePtr)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xemaclite_8c.html#a357b9140f0ac9ea78f96954251550b2">XEmacLite_DisableLoopBack</a> (<a class="el" href="struct_x_emac_lite.html">XEmacLite</a> *InstancePtr)</td></tr>

</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="8cc2fe7b612b1105ffeb1be2a88abb6a"></a><!-- doxytag: member="xemaclite.c::StubHandler" ref="8cc2fe7b612b1105ffeb1be2a88abb6a" args="(void *CallBackRef)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void StubHandler           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>CallBackRef</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This is a stub for the send and receive callbacks. The stub is here in case the upper layers forget to set the handlers.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>CallBackRef</em>&nbsp;</td><td>is a pointer to the upper layer callback reference.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>None.</dd></dl>
<dl compact><dt><b>Note:</b></dt><dd>None. </dd></dl>

</div>
</div><p>
<a class="anchor" name="62d274a1ef1aecc98a8ce824cf630e6f"></a><!-- doxytag: member="xemaclite.c::XEmacLite_CfgInitialize" ref="62d274a1ef1aecc98a8ce824cf630e6f" args="(XEmacLite *InstancePtr, XEmacLite_Config *EmacLiteConfigPtr, u32 EffectiveAddr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int XEmacLite_CfgInitialize           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_x_emac_lite.html">XEmacLite</a> *&nbsp;</td>
          <td class="paramname"> <em>InstancePtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_x_emac_lite___config.html">XEmacLite_Config</a> *&nbsp;</td>
          <td class="paramname"> <em>EmacLiteConfigPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&nbsp;</td>
          <td class="paramname"> <em>EffectiveAddr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initialize a specific <a class="el" href="struct_x_emac_lite.html">XEmacLite</a> instance/driver. The initialization entails:<ul>
<li>Initialize fields of the <a class="el" href="struct_x_emac_lite.html">XEmacLite</a> instance structure.</li></ul>
<p>
The driver defaults to polled mode operation.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>InstancePtr</em>&nbsp;</td><td>is a pointer to the <a class="el" href="struct_x_emac_lite.html">XEmacLite</a> instance. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>EmacLiteConfigPtr</em>&nbsp;</td><td>points to the <a class="el" href="struct_x_emac_lite.html">XEmacLite</a> device configuration structure. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>EffectiveAddr</em>&nbsp;</td><td>is the device base address in the virtual memory address space. If the address translation is not used then the physical address is passed. Unexpected errors may occur if the address mapping is changed after this function is invoked.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><ul>
<li>XST_SUCCESS if initialization was successful.</li></ul>
</dd></dl>
<dl compact><dt><b>Note:</b></dt><dd>The initialization of the PHY device is not done in this function. The user needs to use XEmacLite_PhyRead and XEmacLite_PhyWrite functions to access the PHY device. </dd></dl>

</div>
</div><p>
<a class="anchor" name="a357b9140f0ac9ea78f96954251550b2"></a><!-- doxytag: member="xemaclite.c::XEmacLite_DisableLoopBack" ref="a357b9140f0ac9ea78f96954251550b2" args="(XEmacLite *InstancePtr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XEmacLite_DisableLoopBack           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_x_emac_lite.html">XEmacLite</a> *&nbsp;</td>
          <td class="paramname"> <em>InstancePtr</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Disable Internal loop back functionality.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>InstancePtr</em>&nbsp;</td><td>is the pointer to the instance of the driver.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>None.</dd></dl>
<dl compact><dt><b>Note:</b></dt><dd>None. </dd></dl>

</div>
</div><p>
<a class="anchor" name="bc61e14211f0b939d8386b05d6cbe88e"></a><!-- doxytag: member="xemaclite.c::XEmacLite_EnableLoopBack" ref="bc61e14211f0b939d8386b05d6cbe88e" args="(XEmacLite *InstancePtr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XEmacLite_EnableLoopBack           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_x_emac_lite.html">XEmacLite</a> *&nbsp;</td>
          <td class="paramname"> <em>InstancePtr</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Enable Internal loop back functionality.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>InstancePtr</em>&nbsp;</td><td>is the pointer to the instance of the driver.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>None.</dd></dl>
<dl compact><dt><b>Note:</b></dt><dd>None. </dd></dl>

</div>
</div><p>
<a class="anchor" name="afee8a352a0dffef7dd5abc36dbd234c"></a><!-- doxytag: member="xemaclite.c::XEmacLite_FlushReceive" ref="afee8a352a0dffef7dd5abc36dbd234c" args="(XEmacLite *InstancePtr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XEmacLite_FlushReceive           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_x_emac_lite.html">XEmacLite</a> *&nbsp;</td>
          <td class="paramname"> <em>InstancePtr</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Flush the Receive buffers. All data will be lost.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>InstancePtr</em>&nbsp;</td><td>is the pointer to the instance of the driver to be worked on.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>None.</dd></dl>
<dl compact><dt><b>Note:</b></dt><dd>None. </dd></dl>

</div>
</div><p>
<a class="anchor" name="0e9a87feda7f53bc7733aaacc8b24b71"></a><!-- doxytag: member="xemaclite.c::XEmacLite_PhyRead" ref="0e9a87feda7f53bc7733aaacc8b24b71" args="(XEmacLite *InstancePtr, u32 PhyAddress, u32 RegNum, u16 *PhyDataPtr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int XEmacLite_PhyRead           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_x_emac_lite.html">XEmacLite</a> *&nbsp;</td>
          <td class="paramname"> <em>InstancePtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&nbsp;</td>
          <td class="paramname"> <em>PhyAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&nbsp;</td>
          <td class="paramname"> <em>RegNum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u16 *&nbsp;</td>
          <td class="paramname"> <em>PhyDataPtr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read the specified PHY register.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>InstancePtr</em>&nbsp;</td><td>is the pointer to the instance of the driver. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>PhyAddress</em>&nbsp;</td><td>is the address of the PHY device. The valid range is is from 0 to 31. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>RegNum</em>&nbsp;</td><td>is the register number in the PHY device which is to be read. The valid range is is from 0 to 31. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>PhyDataPtr</em>&nbsp;</td><td>is a pointer to the data in which the data read from the PHY device is returned.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><ul>
<li>XST_SUCCESS if the data is read from the PHY.</li><li>XST_DEVICE_BUSY if MDIO is busy.</li></ul>
</dd></dl>
<dl compact><dt><b>Note:</b></dt><dd>This function waits for the completion of MDIO data transfer. </dd></dl>

</div>
</div><p>
<a class="anchor" name="676bd42b183d7752c470883b5196b844"></a><!-- doxytag: member="xemaclite.c::XEmacLite_PhyWrite" ref="676bd42b183d7752c470883b5196b844" args="(XEmacLite *InstancePtr, u32 PhyAddress, u32 RegNum, u16 PhyData)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int XEmacLite_PhyWrite           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_x_emac_lite.html">XEmacLite</a> *&nbsp;</td>
          <td class="paramname"> <em>InstancePtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&nbsp;</td>
          <td class="paramname"> <em>PhyAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u32&nbsp;</td>
          <td class="paramname"> <em>RegNum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u16&nbsp;</td>
          <td class="paramname"> <em>PhyData</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Write the given data to the specified register in the PHY device.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>InstancePtr</em>&nbsp;</td><td>is the pointer to the instance of the driver. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>PhyAddress</em>&nbsp;</td><td>is the address of the PHY device. The valid range is is from 0 to 31. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>RegNum</em>&nbsp;</td><td>is the register number in the PHY device which is to be written. The valid range is is from 0 to 31. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>PhyData</em>&nbsp;</td><td>is the data to be written to the specified register in the PHY device.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><ul>
<li>XST_SUCCESS if the data is written to the PHY.</li><li>XST_DEVICE_BUSY if MDIO is busy.</li></ul>
</dd></dl>
<dl compact><dt><b>Note:</b></dt><dd>This function waits for the completion of MDIO data transfer. </dd></dl>

</div>
</div><p>
<a class="anchor" name="cd291d749aa67f609a4889fb15a541a2"></a><!-- doxytag: member="xemaclite.c::XEmacLite_Recv" ref="cd291d749aa67f609a4889fb15a541a2" args="(XEmacLite *InstancePtr, u8 *FramePtr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u16 XEmacLite_Recv           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_x_emac_lite.html">XEmacLite</a> *&nbsp;</td>
          <td class="paramname"> <em>InstancePtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u8 *&nbsp;</td>
          <td class="paramname"> <em>FramePtr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Receive a frame. Intended to be called from the interrupt context or with a wrapper which waits for the receive frame to be available.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>InstancePtr</em>&nbsp;</td><td>is a pointer to the <a class="el" href="struct_x_emac_lite.html">XEmacLite</a> instance. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>FramePtr</em>&nbsp;</td><td>is a pointer to a buffer where the frame will be stored. The buffer must be at least XEL_MAX_FRAME_SIZE bytes. For optimal performance, a 32-bit aligned buffer should be used but it is not required, the function will align the data if necessary.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd></dd></dl>
The type/length field of the frame received. When the type/length field contains the type, XEL_MAX_FRAME_SIZE bytes will be copied out of the buffer and it is up to the higher layers to sort out the frame. Function returns 0 if there is no data waiting in the receive buffer or the pong buffer if configured.<p>
<dl compact><dt><b>Note:</b></dt><dd></dd></dl>
This function call is not blocking in nature, i.e. it will not wait until a frame arrives. 
</div>
</div><p>
<a class="anchor" name="a43b9a536b592bdd1426edcfa6c562c8"></a><!-- doxytag: member="xemaclite.c::XEmacLite_Send" ref="a43b9a536b592bdd1426edcfa6c562c8" args="(XEmacLite *InstancePtr, u8 *FramePtr, unsigned ByteCount)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int XEmacLite_Send           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_x_emac_lite.html">XEmacLite</a> *&nbsp;</td>
          <td class="paramname"> <em>InstancePtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u8 *&nbsp;</td>
          <td class="paramname"> <em>FramePtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>ByteCount</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Send an Ethernet frame. The ByteCount is the total frame size, including header.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>InstancePtr</em>&nbsp;</td><td>is a pointer to the <a class="el" href="struct_x_emac_lite.html">XEmacLite</a> instance. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>FramePtr</em>&nbsp;</td><td>is a pointer to frame. For optimal performance, a 32-bit aligned buffer should be used but it is not required, the function will align the data if necessary. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ByteCount</em>&nbsp;</td><td>is the size, in bytes, of the frame</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><ul>
<li>XST_SUCCESS if data was transmitted.</li><li>XST_FAILURE if buffer(s) was (were) full and no valid data was transmitted.</li></ul>
</dd></dl>
<dl compact><dt><b>Note:</b></dt><dd></dd></dl>
This function call is not blocking in nature, i.e. it will not wait until the frame is transmitted. 
</div>
</div><p>
<a class="anchor" name="b1146b18c05a3cfb34d3af24ac8ecb3c"></a><!-- doxytag: member="xemaclite.c::XEmacLite_SetMacAddress" ref="b1146b18c05a3cfb34d3af24ac8ecb3c" args="(XEmacLite *InstancePtr, u8 *AddressPtr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void XEmacLite_SetMacAddress           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_x_emac_lite.html">XEmacLite</a> *&nbsp;</td>
          <td class="paramname"> <em>InstancePtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u8 *&nbsp;</td>
          <td class="paramname"> <em>AddressPtr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the MAC address for this device. The address is a 48-bit value.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>InstancePtr</em>&nbsp;</td><td>is a pointer to the <a class="el" href="struct_x_emac_lite.html">XEmacLite</a> instance. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>AddressPtr</em>&nbsp;</td><td>is a pointer to a 6-byte MAC address. the format of the MAC address is major octet to minor octet</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>None.</dd></dl>
<dl compact><dt><b>Note:</b></dt><dd></dd></dl>
<ul>
<li>TX must be idle and RX should be idle for deterministic results. It is recommended that this function should be called after the initialization and before transmission of any packets from the device.</li><li>Function will not return if hardware is absent or not functioning properly.</li><li>The MAC address can be programmed using any of the two transmit buffers (if configured). </li></ul>

</div>
</div><p>
<a class="anchor" name="b78dc4ba436cf362b30d9ba881009063"></a><!-- doxytag: member="xemaclite.c::XEmacLite_TxBufferAvailable" ref="b78dc4ba436cf362b30d9ba881009063" args="(XEmacLite *InstancePtr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int XEmacLite_TxBufferAvailable           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_x_emac_lite.html">XEmacLite</a> *&nbsp;</td>
          <td class="paramname"> <em>InstancePtr</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Determine if there is a transmit buffer available.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>InstancePtr</em>&nbsp;</td><td>is the pointer to the instance of the driver to be worked on.</td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd><ul>
<li>TRUE if there is a TX buffer available for data to be written</li><li>FALSE if Tx Buffer is not available.</li></ul>
</dd></dl>
<dl compact><dt><b>Note:</b></dt><dd>None. </dd></dl>

</div>
</div><p>
<p class="Copyright">
Copyright &copy; 1995-2011 Xilinx, Inc. All rights reserved.
</p>
</body>
</html>

